{"ast":null,"code":"var _jsxFileName = \"/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/components/TabelaUsuarios/index.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Button, Input, Pagination, Space, Spin } from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport { SearchOutlined } from '@ant-design/icons';\nimport './index.css';\nimport Card from '../Card';\n\nfunction TabelaUsuarios({\n  getData,\n  acoes,\n  handleUpdateTable,\n  getTotal\n}) {\n  const [searchText, setSearchText] = useState('');\n  const [searchedColumn, setSearchedColumn] = useState('');\n  const [lista, setLista] = useState([]);\n  const [loadingTable, setLoadingTable] = useState(false);\n  const [total, setTotal] = useState(0);\n  const page = 1;\n  const pageSize = 1;\n  useEffect(() => {\n    async function init() {\n      setLoadingTable(true);\n      const data = await getData();\n      const total = await getTotal();\n      setTotal(total);\n      setLista(data);\n      setLoadingTable(false);\n      console.log(`TOTAL-> ${total}`);\n    }\n\n    init();\n  }, [getData, getTotal, handleUpdateTable]);\n\n  const getColumnSearchProps = dataIndex => ({\n    filterDropdown: ({\n      setSelectedKeys,\n      selectedKeys,\n      confirm,\n      clearFilters\n    }) => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      placeholder: `Buscar ${dataIndex}`,\n      value: selectedKeys[0],\n      onChange: e => setSelectedKeys(e.target.value ? [e.target.value] : []),\n      onPressEnter: () => handleSearch(selectedKeys, confirm, dataIndex),\n      style: {\n        width: 188,\n        marginBottom: 8,\n        display: 'block'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      onClick: () => handleSearch(selectedKeys, confirm, dataIndex),\n      icon: /*#__PURE__*/React.createElement(SearchOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 27\n        }\n      }),\n      size: \"small\",\n      style: {\n        width: 90,\n        marginRight: 8\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }\n    }, \"Buscar\"), /*#__PURE__*/React.createElement(Button, {\n      onClick: () => handleReset(clearFilters),\n      size: \"small\",\n      style: {\n        width: 90\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }\n    }, \"Resetar\")),\n    filterIcon: filtered => /*#__PURE__*/React.createElement(SearchOutlined, {\n      style: {\n        color: filtered ? '#1890ff' : undefined\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 33\n      }\n    }),\n    onFilter: (value, record) => record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()),\n    onFilterDropdownVisibleChange: visible => {},\n    render: text => searchedColumn === dataIndex ? /*#__PURE__*/React.createElement(Highlighter, {\n      highlightStyle: {\n        backgroundColor: '#ffc069',\n        padding: 0\n      },\n      searchWords: [searchText],\n      autoEscape: true,\n      textToHighlight: text.toString(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }\n    }) : text\n  });\n\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\n    confirm();\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  };\n\n  const handleReset = clearFilters => {\n    clearFilters();\n    setSearchText('');\n  };\n\n  const columns = [{\n    title: 'Código',\n    dataIndex: 'key',\n    key: 'key',\n    defaultSortOrder: 'ascend',\n    sorter: (a, b) => a.key - b.key\n  }, {\n    title: 'Nome',\n    dataIndex: 'nome',\n    key: 'nome',\n    defaultSortOrder: 'ascend',\n    sorter: (a, b) => a.nome > b.nome ? 1 : b.nome > a.nome ? -1 : 0,\n    ...getColumnSearchProps('nome')\n  }, {\n    title: 'CpfCnpj',\n    dataIndex: 'cpfCnpj',\n    key: 'cpfCnpj',\n    defaultSortOrder: 'ascend',\n    sorter: (a, b) => a.cpfCnpj > b.cpfCnpj ? 1 : b.cpfCnpj > a.cpfCnpj ? -1 : 0\n  }, {\n    title: 'Função',\n    dataIndex: 'funcao',\n    filters: [{\n      text: 'FUNCIONARIO',\n      value: 'FUNCIONARIO'\n    }, {\n      text: 'CLIENTE',\n      value: 'CLIENTE'\n    }],\n    onFilter: (value, record) => record.funcao.indexOf(value) === 0\n  }, acoes];\n\n  const onChangePagnator = (page, pageSize) => {\n    console.log(`Page: ${page} PageSize: ${pageSize}`);\n  };\n\n  const getConteudo = usuario => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 27\n      }\n    }, \"CPF/CNPJ:\")), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 21\n      }\n    }, usuario.cpfCnpj)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 27\n      }\n    }, \"Fun\\xE7\\xE3o:\")), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }\n    }, usuario.funcao)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"b\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 27\n      }\n    }, \"C\\xF3digo:\")), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 21\n      }\n    }, usuario.key)));\n  };\n\n  return (\n    /*#__PURE__*/\n    // <Table dataSource={lista} columns={columns} className='Tabela' bordered loading={loadingTable} pagination={{ pageSizeOptions: ['5', '10', '20', '40'], showSizeChanger: true, defaultPageSize: 5 }} />\n    React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }\n    }, !loadingTable && /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 17\n      }\n    }, lista.map(usuario => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: usuario.key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        titulo: usuario.nome,\n        conteudo: getConteudo(usuario),\n        acoes: acoes(usuario),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 37\n        }\n      }));\n    })), loadingTable && /*#__PURE__*/React.createElement(Space, {\n      size: \"larger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Spin, {\n      size: \"large\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 21\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"center\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Pagination, {\n      defaultCurrent: 1,\n      total: total,\n      pageSize: pageSize,\n      onChange: onChangePagnator,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 17\n      }\n    })))\n  );\n}\n\nexport default TabelaUsuarios;","map":{"version":3,"sources":["/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/components/TabelaUsuarios/index.js"],"names":["React","useState","useEffect","Button","Input","Pagination","Space","Spin","Highlighter","SearchOutlined","Card","TabelaUsuarios","getData","acoes","handleUpdateTable","getTotal","searchText","setSearchText","searchedColumn","setSearchedColumn","lista","setLista","loadingTable","setLoadingTable","total","setTotal","page","pageSize","init","data","console","log","getColumnSearchProps","dataIndex","filterDropdown","setSelectedKeys","selectedKeys","confirm","clearFilters","padding","e","target","value","handleSearch","width","marginBottom","display","marginRight","handleReset","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","onFilterDropdownVisibleChange","visible","render","text","backgroundColor","columns","title","key","defaultSortOrder","sorter","a","b","nome","cpfCnpj","filters","funcao","indexOf","onChangePagnator","getConteudo","usuario","map"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Button, Input, Pagination, Space, Spin } from 'antd';\nimport Highlighter from 'react-highlight-words';\nimport { SearchOutlined } from '@ant-design/icons';\nimport './index.css';\nimport Card from '../Card';\nfunction TabelaUsuarios({ getData, acoes, handleUpdateTable, getTotal }) {\n\n    const [searchText, setSearchText] = useState('');\n    const [searchedColumn, setSearchedColumn] = useState('');\n    const [lista, setLista] = useState([]);\n    const [loadingTable, setLoadingTable] = useState(false);\n    const [total, setTotal] = useState(0);\n\n    const page = 1;\n    const pageSize = 1;\n\n    useEffect(() => {\n        async function init() {\n            setLoadingTable(true);\n            const data = await getData();\n            const total = await getTotal();\n            setTotal(total);\n            setLista(data);\n            setLoadingTable(false);\n            console.log(`TOTAL-> ${total}`);\n        }\n        init();\n    }, [getData, getTotal, handleUpdateTable]);\n\n\n\n\n    const getColumnSearchProps = dataIndex => ({\n        filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n            <div style={{ padding: 8 }}>\n                <Input\n                    placeholder={`Buscar ${dataIndex}`}\n                    value={selectedKeys[0]}\n                    onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n                    onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n                    style={{ width: 188, marginBottom: 8, display: 'block' }}\n                />\n                <Button\n                    type=\"primary\"\n                    onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\n                    icon={<SearchOutlined />}\n                    size=\"small\"\n                    style={{ width: 90, marginRight: 8 }}\n                >\n                    Buscar\n            </Button>\n                <Button onClick={() => handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n                    Resetar\n            </Button>\n            </div>\n        ),\n        filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n        onFilter: (value, record) =>\n            record[dataIndex]\n                .toString()\n                .toLowerCase()\n                .includes(value.toLowerCase()),\n        onFilterDropdownVisibleChange: visible => {\n        },\n        render: text =>\n            searchedColumn === dataIndex ? (\n                <Highlighter\n                    highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n                    searchWords={[searchText]}\n                    autoEscape\n                    textToHighlight={text.toString()}\n                />\n            ) : (\n                    text\n                ),\n    });\n\n    const handleSearch = (selectedKeys, confirm, dataIndex) => {\n        confirm();\n        setSearchText(selectedKeys[0]);\n        setSearchedColumn(dataIndex);\n    };\n\n    const handleReset = clearFilters => {\n        clearFilters();\n        setSearchText('');\n    };\n\n    const columns = [\n        {\n            title: 'Código',\n            dataIndex: 'key',\n            key: 'key',\n            defaultSortOrder: 'ascend',\n            sorter: (a, b) => a.key - b.key,\n        },\n        {\n            title: 'Nome',\n            dataIndex: 'nome',\n            key: 'nome',\n            defaultSortOrder: 'ascend',\n            sorter: (a, b) => ((a.nome > b.nome) ? 1 : ((b.nome > a.nome) ? -1 : 0)),\n            ...getColumnSearchProps('nome')\n        },\n        {\n            title: 'CpfCnpj',\n            dataIndex: 'cpfCnpj',\n            key: 'cpfCnpj',\n            defaultSortOrder: 'ascend',\n            sorter: (a, b) => ((a.cpfCnpj > b.cpfCnpj) ? 1 : ((b.cpfCnpj > a.cpfCnpj) ? -1 : 0)),\n        },\n\n        {\n            title: 'Função',\n            dataIndex: 'funcao',\n            filters: [\n                {\n                    text: 'FUNCIONARIO',\n                    value: 'FUNCIONARIO',\n                },\n                {\n                    text: 'CLIENTE',\n                    value: 'CLIENTE',\n                },\n            ],\n            onFilter: (value, record) => record.funcao.indexOf(value) === 0,\n        },\n        acoes,\n    ];\n\n    const onChangePagnator = (page, pageSize) => {\n        console.log(`Page: ${page} PageSize: ${pageSize}`);\n    }\n\n    const getConteudo = (usuario) => {\n        return (\n            <div>\n                <p>\n                    <span><b>CPF/CNPJ:</b></span>\n                    <span>{usuario.cpfCnpj}</span>\n                </p>\n                <p>\n                    <span><b>Função:</b></span>\n                    <span>{usuario.funcao}</span>\n                </p>\n                <p>\n                    <span><b>Código:</b></span>\n                    <span>{usuario.key}</span>\n                </p>\n            </div>\n        );\n    }\n\n\n\n    return (\n        // <Table dataSource={lista} columns={columns} className='Tabela' bordered loading={loadingTable} pagination={{ pageSizeOptions: ['5', '10', '20', '40'], showSizeChanger: true, defaultPageSize: 5 }} />\n\n        <div>\n            {!loadingTable && (\n                <div>\n                    {\n                        lista.map((usuario) => {\n                            return (\n                                <div key={usuario.key}>\n                                    <Card titulo={usuario.nome} conteudo={getConteudo(usuario)} acoes={acoes(usuario)} />\n                                </div>\n                            );\n                        })\n                    }\n                </div>\n            )}{ loadingTable && (\n                <Space size='larger'>\n                    <Spin size='large'/>\n                </Space>\n            )}\n            <br />\n            <center>\n                <Pagination defaultCurrent={1} total={total} pageSize={pageSize} onChange={onChangePagnator}/>\n            </center>\n        </div>\n    );\n}\n\nexport default TabelaUsuarios;"]},"metadata":{},"sourceType":"module"}