{"ast":null,"code":"var _jsxFileName = \"/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/pages/Pedidos/index.js\";\nimport React, { useEffect, useState } from 'react';\nimport TabelaPedidos from '../../components/TabelaPedidos';\nimport Titulo from '../../components/Titulo';\nimport { CloseOutlined, SearchOutlined, ReloadOutlined } from '@ant-design/icons';\nimport { Container, Breadcrumb } from 'react-bootstrap';\nimport { Divider, Button, Modal } from 'antd';\nimport { showConfirm } from '../../components/ConfirmAcao';\nimport { notificarErro, notificarSucesso } from '../../components/Notificacao';\nimport { getKeyUsuarioLogado } from '../../../service/usuario';\nimport api from '../../../service/api';\nconst {\n  Item\n} = Breadcrumb;\n\nfunction Pedidos() {\n  const [handlerUpdateTable, setHandlerUpdateTable] = useState(false);\n  const [modalVisible, setModalVisible] = useState(false);\n  useEffect(() => {}, []);\n\n  const buscarPedidos = async () => {\n    const {\n      data\n    } = await api.get('/pedido', {\n      params: {\n        keyUsuario: getKeyUsuarioLogado()\n      }\n    });\n    return data;\n  };\n\n  const acoes = {\n    title: 'Ações',\n    dataIndex: 'acoes',\n    key: 'acoes',\n    render: (_, record) => React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      style: {\n        margin: '1px'\n      },\n      icon: React.createElement(SearchOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      }),\n      title: \"Ver Pedido\",\n      onClick: _ => {\n        visualizarPedido(record);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33\n      },\n      __self: this\n    }), record.status !== 'CANCELADO' && React.createElement(Button, {\n      type: \"primary\",\n      style: {\n        margin: '1px'\n      },\n      danger: true,\n      title: \"Cancelar Pedido\",\n      icon: React.createElement(CloseOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }),\n      onClick: _ => {\n        showConfirm(\"Cancelar Pedido\", \"Deseja Cancelar o pedido?\", cancelarPedido, record.key);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }), (record.status === 'CANCELADO' || record.status === 'FINALIZADO') && React.createElement(Button, {\n      type: \"primary\",\n      style: {\n        margin: '1px'\n      },\n      title: \"Repetir Pedido\",\n      icon: React.createElement(ReloadOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }),\n      onClick: _ => {\n        repetirPedido(record);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }))\n  };\n\n  const visualizarPedido = pedido => {\n    alert(pedido.id);\n  };\n\n  const cancelarPedido = async key => {\n    try {\n      await api.delete(`/pedido/${key}`, {\n        params: {\n          keyUsuario: getKeyUsuarioLogado()\n        }\n      });\n      notificarSucesso('Pedido cancelado com sucesso!');\n      setHandlerUpdateTable(!handlerUpdateTable);\n    } catch (e) {\n      const {\n        mensagem\n      } = e.response.data;\n      notificarErro(mensagem);\n    }\n  };\n\n  const repetirPedido = record => {\n    showConfirm(\"Repetir Pedido\", \"Deseja repetir o pedido?\", confirmRepetir, record.key);\n  };\n\n  const confirmRepetir = async key => {\n    try {\n      await api.post(`/pedido/${key}`, {\n        params: {\n          keyUsuario: getKeyUsuarioLogado()\n        }\n      });\n      notificarSucesso('Pedido refeito com sucesso.');\n    } catch (e) {\n      const {\n        mensagem\n      } = e.response.data;\n      notificarErro(mensagem);\n    }\n  };\n\n  const handleCancel = () => {\n    setModalVisible(false);\n    setLoading(false);\n  };\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(Item, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, \"Principal\"), React.createElement(Item, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, \"Pedidos\")), React.createElement(Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Titulo, {\n    name: \"Pedidos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }), React.createElement(TabelaPedidos, {\n    getData: buscarPedidos,\n    acoes: acoes,\n    handlerUpdateTable: handlerUpdateTable,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    href: \"/perfilPedidos\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, \"Cadastrar\"), React.createElement(Modal, {\n    title: \"Data do Pedido\",\n    visible: modalVisible,\n    confirmLoading: confirmLoading,\n    footer: [React.createElement(Button, {\n      key: \"back\",\n      onClick: handleCancel,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, \"Cancelar\"), React.createElement(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      loading: loading,\n      onClick: repetirPedido,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, \"Ok\")],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }, React.createElement(Form, Object.assign({}, layout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    label: \"Quantidade: \",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }), React.createElement(InputNumber, {\n    min: 1,\n    onChange: value => {\n      setQuantidade(value);\n    },\n    value: quantidade,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }))))));\n}\n\nexport default Pedidos;","map":{"version":3,"sources":["/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/pages/Pedidos/index.js"],"names":["React","useEffect","useState","TabelaPedidos","Titulo","CloseOutlined","SearchOutlined","ReloadOutlined","Container","Breadcrumb","Divider","Button","Modal","showConfirm","notificarErro","notificarSucesso","getKeyUsuarioLogado","api","Item","Pedidos","handlerUpdateTable","setHandlerUpdateTable","modalVisible","setModalVisible","buscarPedidos","data","get","params","keyUsuario","acoes","title","dataIndex","key","render","_","record","margin","visualizarPedido","status","cancelarPedido","repetirPedido","pedido","alert","id","delete","e","mensagem","response","confirmRepetir","post","handleCancel","setLoading","confirmLoading","loading","layout","tailLayout","value","setQuantidade","quantidade"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport TabelaPedidos from '../../components/TabelaPedidos';\nimport Titulo from '../../components/Titulo';\nimport { CloseOutlined,SearchOutlined,ReloadOutlined} from '@ant-design/icons';\nimport {Container, Breadcrumb} from 'react-bootstrap';\nimport { Divider,Button, Modal} from 'antd';\nimport {showConfirm} from '../../components/ConfirmAcao';\nimport {notificarErro,notificarSucesso} from '../../components/Notificacao';\nimport {getKeyUsuarioLogado} from '../../../service/usuario';\nimport api from '../../../service/api';\nconst {Item} = Breadcrumb;\n\nfunction Pedidos() {\n\n    const [handlerUpdateTable,setHandlerUpdateTable] = useState(false);\n    const [modalVisible, setModalVisible] = useState(false);\n\n    useEffect(()=>{\n    },[]);\n\n    const buscarPedidos = async() => {\n        const {data} = await api.get('/pedido',{params:{keyUsuario:getKeyUsuarioLogado()}});\n        return data;\n        \n    }\n\n    const acoes = {\n        title: 'Ações',\n        dataIndex: 'acoes',\n        key: 'acoes',\n        render: (_,record) => (\n            <span>\n                <Button\n                    type='primary'\n                    style={{ margin: '1px' }}\n                    icon={<SearchOutlined />}\n                    title='Ver Pedido'\n                    onClick={_=>{visualizarPedido(record)}}\n                />\n                {record.status !== 'CANCELADO' &&\n                <Button\n                    type='primary'\n                    style={{ margin: '1px' }}\n                    danger\n                    title='Cancelar Pedido'\n                    icon={<CloseOutlined />} \n                    onClick={_=>{\n                        showConfirm(\"Cancelar Pedido\",\"Deseja Cancelar o pedido?\",cancelarPedido,record.key);\n                       }\n                    }\n                    />\n                }\n                {(record.status === 'CANCELADO' || record.status === 'FINALIZADO') && \n                    <Button\n                    type='primary'\n                    style={{ margin: '1px' }}\n                    title='Repetir Pedido'\n                    icon={ <ReloadOutlined />} \n                    onClick={_=>{repetirPedido(record)}}\n                    />\n                }\n            </span>\n        )\n    };\n\n    const visualizarPedido = pedido => {\n        alert(pedido.id);\n    }\n\n    const cancelarPedido = async (key) => {\n       try{\n            await api.delete(`/pedido/${key}`,{params:{keyUsuario:getKeyUsuarioLogado()}});\n            notificarSucesso('Pedido cancelado com sucesso!');\n            setHandlerUpdateTable(!handlerUpdateTable);\n       }catch(e){\n           const {mensagem} = e.response.data;\n           notificarErro(mensagem);\n       }\n    }\n\n    const repetirPedido = (record) => {\n        showConfirm(\"Repetir Pedido\",\"Deseja repetir o pedido?\",confirmRepetir,record.key);\n    }\n\n    const confirmRepetir = async (key) => {\n        try{\n            await api.post(`/pedido/${key}`,{params:{\n                keyUsuario:getKeyUsuarioLogado()\n            }})\n            notificarSucesso('Pedido refeito com sucesso.')\n        }catch(e){\n            const {mensagem} = e.response.data;\n            notificarErro(mensagem);\n        }\n    }\n\n    const handleCancel = () => {\n        setModalVisible(false);\n        setLoading(false);\n    }\n\n    return (\n        <div>\n            <Breadcrumb>\n                <Item href=\"/\">Principal</Item>\n                <Item active>Pedidos</Item>\n            </Breadcrumb>\n            <Container>\n                <Titulo name=\"Pedidos\" />\n                <Divider/>\n                <TabelaPedidos getData={buscarPedidos} acoes={acoes} handlerUpdateTable={handlerUpdateTable}/>\n                <Divider/>\n                <Button type='primary' href='/perfilPedidos'>Cadastrar</Button>\n                <Modal\n                    title=\"Data do Pedido\"\n                    visible={modalVisible}\n                    confirmLoading={confirmLoading}\n                    footer={[\n                        <Button key=\"back\" onClick={handleCancel}>\n                          Cancelar\n                        </Button>,\n                        <Button key=\"submit\" type=\"primary\" loading={loading} onClick={repetirPedido}>\n                          Ok\n                        </Button>,\n                      ]}\n                    \n                    >\n                    <Form {...layout}>\n                        <Form.Item {...tailLayout}\n                            label='Quantidade: '\n                        >\n                        <InputNumber min={1} onChange={(value) =>{\n                            setQuantidade(value);\n                        }} value={quantidade}/>\n                        </Form.Item>\n                    </Form>\n                </Modal>\n            </Container>\n        </div>\n    );\n}\n\nexport default Pedidos;"]},"metadata":{},"sourceType":"module"}