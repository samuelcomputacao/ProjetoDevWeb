{"ast":null,"code":"var _jsxFileName = \"/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/components/FormUsuario/index.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport api from '../../../service/api';\nimport { notificarErro, notificarSucesso } from '../Notificacao/index';\nimport { Form, Input, Button, Select } from 'antd';\n\nfunction FormUsuario({\n  cod,\n  update\n}) {\n  const [categorias, setCategorias] = useState(['Funcionario', 'Cliente']);\n  const [nome, setNome] = useState('');\n  const [funcao, setFuncao] = useState('');\n  const [cpfCnpj, setCpfCnpj] = useState('');\n  const [senha, setSenha] = useState('');\n  const [confirmSenha, setConfirmSenha] = useState('');\n  const history = useHistory();\n\n  const onFormLayoutChange = ({\n    size\n  }) => {\n    console.log('formChange');\n  };\n\n  const onFinish = values => {\n    console.log(values);\n    setNome(values.nome);\n    setFuncao(values.funcao);\n    setCpfCnpj(values.cpfCnpj);\n    setSenha(values.senha);\n    setConfirmSenha(values.confirmSenha);\n\n    if (salvar()) {\n      openNotification(); // setTimeout(redirect, 1000);\n    }\n  };\n\n  const salvar = async () => {\n    console.log({\n      nome,\n      funcao,\n      senha,\n      cpfCnpj\n    });\n\n    if (senha !== confirmSenha) {\n      notificarErro('As senhas não são iguais!');\n      return false;\n    } else {\n      const confing = {\n        body: {\n          nome,\n          cpfCnpj,\n          senha,\n          funcao\n        }\n      };\n      await api.post('/usuario', confing);\n      return true;\n    }\n  };\n\n  const onFinishFailed = errorInfo => {\n    console.log('Failed:', errorInfo);\n  };\n\n  const layout = {\n    labelCol: {\n      span: 5\n    },\n    wrapperCol: {\n      span: 16\n    }\n  };\n  const tailLayout = {\n    wrapperCol: {\n      offset: 5,\n      span: 16\n    }\n  };\n\n  const openNotification = () => {\n    if (update) {\n      notificarSucesso('O usuário foi atualizado com sucesso.');\n    } else {\n      notificarSucesso('O usuário foi salvo com sucesso.');\n    }\n  };\n\n  const redirect = () => {\n    history.goBack();\n  };\n\n  const getAcao = () => {\n    let retorno = 'Salvar';\n    if (update) retorno = 'Atualizar';\n  };\n\n  return React.createElement(Form, Object.assign({}, layout, {\n    name: \"basic\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    onFinishFailed: onFinishFailed,\n    onValuesChange: onFormLayoutChange,\n    size: \"larger\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  }), React.createElement(Form.Item, {\n    label: \"Nome\",\n    name: \"nome\",\n    rules: [{\n      required: true,\n      message: 'O nome é obrigatorio!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Cpf/Cnpj\",\n    name: \"cpfCnpj\",\n    rules: [{\n      required: true,\n      message: 'O CPF/Cnpj é obrigatorio!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121\n    },\n    __self: this\n  }, React.createElement(Input, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Fun\\xE7\\xE3o\",\n    name: \"funcao\",\n    rules: [{\n      required: true,\n      message: 'A Função é obrigatoria!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132\n    },\n    __self: this\n  }, React.createElement(Select, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, categorias.map(cat => {\n    return React.createElement(Select.Option, {\n      value: cat,\n      key: cat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, cat);\n  }))), React.createElement(Form.Item, {\n    label: \"Senha\",\n    name: \"senha\",\n    rules: [{\n      required: true,\n      message: 'A senha é obrigatoria!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150\n    },\n    __self: this\n  }, React.createElement(Input.Password, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    label: \"Confirma\\xE7\\xE3o\",\n    name: \"confirmSenha\",\n    rules: [{\n      required: true,\n      message: 'A confirmação da senha é obrigatoria!'\n    }],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162\n    },\n    __self: this\n  }, React.createElement(Input.Password, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171\n    },\n    __self: this\n  })), React.createElement(Form.Item, Object.assign({}, tailLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174\n    },\n    __self: this\n  }), update && React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176\n    },\n    __self: this\n  }, \"Atualizar\"), !update && React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184\n    },\n    __self: this\n  }, \"Salvar\"), React.createElement(Button, {\n    type: \"danger\",\n    onClick: redirect,\n    htmlType: \"submit\",\n    style: {\n      marginLeft: '2px'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190\n    },\n    __self: this\n  }, \"Cancelar\")));\n}\n\nexport default FormUsuario;","map":{"version":3,"sources":["/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/components/FormUsuario/index.js"],"names":["React","useState","useHistory","api","notificarErro","notificarSucesso","Form","Input","Button","Select","FormUsuario","cod","update","categorias","setCategorias","nome","setNome","funcao","setFuncao","cpfCnpj","setCpfCnpj","senha","setSenha","confirmSenha","setConfirmSenha","history","onFormLayoutChange","size","console","log","onFinish","values","salvar","openNotification","confing","body","post","onFinishFailed","errorInfo","layout","labelCol","span","wrapperCol","tailLayout","offset","redirect","goBack","getAcao","retorno","remember","required","message","map","cat","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport api from '../../../service/api';\nimport {notificarErro,notificarSucesso} from '../Notificacao/index';\nimport {\n    Form,\n    Input,\n    Button,\n    Select,\n} from 'antd';\n\nfunction FormUsuario({ cod, update }) {\n\n    const [categorias, setCategorias] = useState(['Funcionario', 'Cliente']);\n    const [nome, setNome] = useState('');\n    const [funcao, setFuncao] = useState('');\n    const [cpfCnpj, setCpfCnpj] = useState('');\n    const [senha,setSenha] = useState('');\n    const [confirmSenha, setConfirmSenha] = useState('');\n\n    const history = useHistory();\n\n    const onFormLayoutChange = ({ size }) => {\n        console.log('formChange');\n    };\n\n    const onFinish = values => {\n        console.log(values);\n        setNome(values.nome);\n        setFuncao(values.funcao);\n        setCpfCnpj(values.cpfCnpj);\n        setSenha(values.senha);\n        setConfirmSenha(values.confirmSenha);\n        if(salvar()){\n            openNotification();\n           // setTimeout(redirect, 1000);\n        }\n    };\n\n    const salvar  = async() =>{\n        console.log({nome,funcao,senha,cpfCnpj});\n        if(senha !== confirmSenha){\n            notificarErro('As senhas não são iguais!');\n            return false;\n        }else{\n\n            const confing = {\n                body : {\n                    nome,\n                    cpfCnpj,\n                    senha,\n                    funcao\n                }\n            }\n            await api.post('/usuario',confing);\n\n            return true;\n        }\n\n\n    }\n\n    const onFinishFailed = errorInfo => {\n        console.log('Failed:', errorInfo);\n    };\n\n    const layout = {\n        labelCol: {\n            span: 5,\n        },\n        wrapperCol: {\n            span: 16,\n        },\n    };\n    const tailLayout = {\n        wrapperCol: {\n            offset: 5,\n            span: 16,\n        },\n    };\n\n    const openNotification = () => {\n        if (update) {\n            notificarSucesso('O usuário foi atualizado com sucesso.');\n        }else{\n            notificarSucesso('O usuário foi salvo com sucesso.');\n        }\n    };\n\n    const redirect = () => {\n        history.goBack();\n    }\n\n    const getAcao = () => {\n        let retorno = 'Salvar';\n        if (update) retorno = 'Atualizar';\n    }\n\n    return (\n        <Form\n            {...layout}\n            name=\"basic\"\n            initialValues={{\n                remember: true,\n            }}\n            onFinish={onFinish}\n            onFinishFailed={onFinishFailed}\n            onValuesChange={onFormLayoutChange}\n            size='larger'>\n            <Form.Item\n                label='Nome'\n                name=\"nome\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'O nome é obrigatorio!'\n                    }]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                label='Cpf/Cnpj'\n                name=\"cpfCnpj\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'O CPF/Cnpj é obrigatorio!'\n                    }]}\n            >\n                <Input />\n            </Form.Item>\n            <Form.Item\n                label='Função'\n                name=\"funcao\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'A Função é obrigatoria!',\n                    }]}\n            >\n                <Select>\n                    {\n                        categorias.map((cat) => {\n                            return (<Select.Option value={cat} key={cat}>{cat}</Select.Option>)\n                        })\n                    }\n                </Select>\n            </Form.Item>\n\n            <Form.Item\n                label='Senha'\n                name=\"senha\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'A senha é obrigatoria!'\n                    }]}\n            >\n                <Input.Password />\n            </Form.Item>\n\n            <Form.Item\n                label='Confirmação'\n                name=\"confirmSenha\"\n                rules={[\n                    {\n                        required: true,\n                        message: 'A confirmação da senha é obrigatoria!'\n                    }]}\n            >\n                <Input.Password />\n            </Form.Item>\n            \n            <Form.Item {...tailLayout}>\n                {update &&\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\">\n\n                        Atualizar\n                    </Button>\n                }\n                {!update &&\n                    <Button\n                        type=\"primary\"\n                        htmlType=\"submit\">\n                        Salvar\n                    </Button>\n                }\n                <Button\n                    type=\"danger\"\n                    onClick={redirect}\n                    htmlType=\"submit\"\n                    style={{ marginLeft: '2px' }}\n                >\n                    Cancelar\n                        </Button>\n\n            </Form.Item>\n        </Form>\n    );\n}\n\nexport default FormUsuario;"]},"metadata":{},"sourceType":"module"}