{"ast":null,"code":"var _jsxFileName = \"/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/pages/Usuarios/index.js\";\nimport React, { useState } from 'react';\nimport { Container, Breadcrumb } from 'react-bootstrap';\nimport TabelaUsuarios from '../../components/TabelaUsuarios';\nimport { Modal, Radio, Button, Divider } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport Titulo from '../../components/Titulo';\nimport { showConfirm } from '../../components/ConfirmAcao';\nimport { notificarSucesso, notificarErro } from '../../components/Notificacao';\nimport { DeleteOutlined, EditOutlined } from '@ant-design/icons';\nimport FooterButtons from '../../components/FooterButtons';\nimport api from '../../../service/api';\nimport './index.css';\nimport { isFuncionarioLogado } from '../../../service/usuario';\nconst {\n  Item\n} = Breadcrumb;\nconst {\n  Group\n} = Radio;\n\nfunction Usuarios() {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [tipoCadastro, setTipoCadastro] = useState(0);\n  const [handleUpdateTable, setHandleUpdateTable] = useState(false);\n  const history = useHistory();\n  const radioStyle = {\n    display: 'block',\n    height: '30px',\n    lineHeight: '30px'\n  };\n\n  const onChange = e => {\n    setTipoCadastro(e.target.value);\n  };\n\n  const openModal = () => {\n    setModalVisible(true);\n  };\n\n  const closeModal = () => {\n    setModalVisible(false);\n  };\n\n  const redirectCadastro = () => {\n    history.push({\n      pathname: '/perfilUsuario',\n      search: `?tipo=${tipoCadastro}`\n    });\n  };\n\n  const carregaUsuarios = async () => {\n    const {\n      data\n    } = await api.get('/usuario');\n    return data;\n  };\n\n  const excluiUsuario = async ({\n    key\n  }) => {\n    try {\n      await api.delete(`/usuario/${key}`);\n      notificarSucesso('Usuário removido com sucesso.');\n      setHandleUpdateTable(!handleUpdateTable);\n    } catch (e) {\n      const {\n        mensagem\n      } = e.response.data;\n      notificarErro(mensagem);\n    }\n  };\n\n  const editarUsuario = async usuario => {\n    history.push({\n      pathname: '/perfilUsuario',\n      search: `?key=${usuario.key}&tipo=${usuario.tipoUsuario}`\n    });\n  };\n\n  const acoes = {\n    title: 'Ações',\n    dataIndex: 'acoes',\n    key: 'acoes',\n    render: (text, record) => React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"primary\",\n      style: {\n        marginLeft: '2px'\n      },\n      icon: React.createElement(EditOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }),\n      onClick: _ => {\n        editarUsuario(record);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(Button, {\n      type: \"primary\",\n      style: {\n        marginLeft: '2px'\n      },\n      danger: true,\n      icon: React.createElement(DeleteOutlined, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }),\n      onClick: _ => {\n        const title = 'Deseja excluir o usuário?';\n        const content = `Ao clicar em OK você excluirá o usuário de código ${record.key}`;\n        const params = {\n          key: record.key\n        };\n        showConfirm(title, content, excluiUsuario, params);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }))\n  };\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(Breadcrumb, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(Item, {\n    href: \"/\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Principal\"), React.createElement(Item, {\n    active: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, \"Usuarios\")), React.createElement(Container, {\n    className: \"Container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }, React.createElement(Titulo, {\n    nome: \"Usu\\xE1rios\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115\n    },\n    __self: this\n  }), React.createElement(TabelaUsuarios, {\n    getData: carregaUsuarios,\n    acoes: acoes,\n    handleUpdateTable: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116\n    },\n    __self: this\n  }), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }), React.createElement(FooterButtons, {\n    label1: \"Cadastrar\",\n    visible1: isFuncionarioLogado(),\n    callback1: openModal,\n    visible2: false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }), React.createElement(Button, {\n    type: \"primary\",\n    onClick: openModal,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"Cadastrar\"), React.createElement(Modal, {\n    visible: modalVisible,\n    title: \"Tipo de Cadastro!\",\n    onOk: redirectCadastro,\n    onCancel: closeModal,\n    footer: [React.createElement(Button, {\n      key: \"back\",\n      danger: true,\n      type: \"primary\",\n      onClick: closeModal,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, \"Cancelar\"), React.createElement(Button, {\n      key: \"submit\",\n      type: \"primary\",\n      onClick: redirectCadastro,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, \"Confirmar\")],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, React.createElement(Group, {\n    onChange: onChange,\n    value: tipoCadastro,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, React.createElement(Radio, {\n    style: radioStyle,\n    value: 0,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, \"Pessoa F\\xEDsica\"), React.createElement(Radio, {\n    style: radioStyle,\n    value: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, \"Pessoa Jur\\xEDdica\")))));\n}\n\nexport default Usuarios;","map":{"version":3,"sources":["/home/samuel/Documentos/repositorios/ProjetoDevWeb/frontend/src/protected/pages/Usuarios/index.js"],"names":["React","useState","Container","Breadcrumb","TabelaUsuarios","Modal","Radio","Button","Divider","useHistory","Titulo","showConfirm","notificarSucesso","notificarErro","DeleteOutlined","EditOutlined","FooterButtons","api","isFuncionarioLogado","Item","Group","Usuarios","modalVisible","setModalVisible","tipoCadastro","setTipoCadastro","handleUpdateTable","setHandleUpdateTable","history","radioStyle","display","height","lineHeight","onChange","e","target","value","openModal","closeModal","redirectCadastro","push","pathname","search","carregaUsuarios","data","get","excluiUsuario","key","delete","mensagem","response","editarUsuario","usuario","tipoUsuario","acoes","title","dataIndex","render","text","record","marginLeft","_","content","params"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport { Container, Breadcrumb } from 'react-bootstrap';\nimport TabelaUsuarios from '../../components/TabelaUsuarios';\nimport { Modal, Radio, Button, Divider } from 'antd';\nimport { useHistory } from 'react-router-dom';\nimport Titulo from '../../components/Titulo';\nimport {showConfirm} from '../../components/ConfirmAcao';\nimport { notificarSucesso, notificarErro } from '../../components/Notificacao';\nimport {DeleteOutlined,EditOutlined } from '@ant-design/icons';\nimport FooterButtons from '../../components/FooterButtons';\nimport api from '../../../service/api';\nimport './index.css';\nimport { isFuncionarioLogado } from '../../../service/usuario';\n\nconst { Item } = Breadcrumb;\nconst { Group } = Radio;\n\nfunction Usuarios() {\n\n    const [modalVisible, setModalVisible] = useState(false);\n    const [tipoCadastro, setTipoCadastro] = useState(0);\n\n    const [handleUpdateTable, setHandleUpdateTable] = useState(false);\n\n    const history = useHistory();\n\n    const radioStyle = {\n        display: 'block',\n        height: '30px',\n        lineHeight: '30px',\n    };\n\n    const onChange = e => {\n        setTipoCadastro(e.target.value);\n    };\n\n    const openModal = () => {\n        setModalVisible(true);\n    }\n\n    const closeModal = () => {\n        setModalVisible(false);\n    }\n\n    const redirectCadastro = () => {\n        history.push({\n            pathname: '/perfilUsuario',\n            search: `?tipo=${tipoCadastro}`\n        });\n    }\n\n    const carregaUsuarios = async () => {\n        const { data } = await api.get('/usuario');\n        return data;\n    }\n\n    const excluiUsuario = async ({key}) =>{\n        try {\n            await api.delete(`/usuario/${key}`);\n            notificarSucesso('Usuário removido com sucesso.')\n            setHandleUpdateTable(!handleUpdateTable);\n        } catch (e) {\n            const {mensagem} = e.response.data;\n            notificarErro(mensagem);\n        }\n    }\n\n    const editarUsuario = async (usuario) => {\n        history.push({\n            pathname: '/perfilUsuario',\n            search: `?key=${usuario.key}&tipo=${usuario.tipoUsuario}`\n        });\n\n    }\n\n    const acoes = {\n        title: 'Ações',\n        dataIndex: 'acoes',\n        key: 'acoes',\n        render: (text, record) => (\n            <span>\n                <Button\n                    type='primary'\n                    style={{ marginLeft: '2px' }}\n                    icon={<EditOutlined />}\n                    onClick={\n                        _ => { editarUsuario(record) }\n                    }\n                />\n                <Button\n                    type='primary'\n                    style={{ marginLeft: '2px' }}\n                    danger\n                    icon={<DeleteOutlined />}\n                    onClick={_ => {\n                        const title = 'Deseja excluir o usuário?'\n                        const content = `Ao clicar em OK você excluirá o usuário de código ${record.key}`;\n                        const params = { key:record.key };\n                        showConfirm(title, content, excluiUsuario, params);\n                    }\n                    }\n                />\n            </span>\n        ),\n    }\n\n    return (\n        <div>\n            <Breadcrumb>\n                <Item href=\"/\">Principal</Item>\n                <Item active>Usuarios</Item>\n            </Breadcrumb>\n            <Container className='Container'>\n                <Titulo nome='Usuários' />\n                <Divider />\n                <TabelaUsuarios getData={carregaUsuarios} acoes={acoes} handleUpdateTable/>\n                <Divider />\n                <FooterButtons label1='Cadastrar' visible1={isFuncionarioLogado()} callback1={openModal} visible2={false}/>               \n                <Button type='primary' onClick={openModal}>Cadastrar</Button>\n                <Modal\n                    visible={modalVisible}\n                    title=\"Tipo de Cadastro!\"\n                    onOk={redirectCadastro}\n                    onCancel={closeModal}\n                    footer={[\n                        <Button key='back' danger type='primary' onClick={closeModal}>\n                            Cancelar\n                    </Button>,\n                        <Button key='submit' type='primary' onClick={redirectCadastro}>\n                            Confirmar\n                    </Button>,\n                    ]}\n                >\n                    <Group onChange={onChange} value={tipoCadastro}>\n                        <Radio style={radioStyle} value={0}>\n                            Pessoa Física\n                    </Radio>\n                        <Radio style={radioStyle} value={1}>\n                            Pessoa Jurídica\n                     </Radio>\n                    </Group>\n                </Modal>\n            </Container>\n        </div>\n    );\n}\n\nexport default Usuarios;"]},"metadata":{},"sourceType":"module"}